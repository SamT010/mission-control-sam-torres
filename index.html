<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mission Control v8</title>
  <link rel="stylesheet" href="./styles.css?v=8" />
</head>
<body>
  <header class="topbar">
    <div class="brand">ðŸ§­ Mission Control <span>v8</span></div>
    <nav class="tabs">
      <button class="tab" data-tab="tasks">Tasks</button>
      <button class="tab active" data-tab="office">Office</button>
      <button class="tab" data-tab="agents">AI Agents</button>
      <button class="tab" data-tab="org">Org</button>
    </nav>
    <div class="pill" id="samPill">Sam: Working</div>
  </header>

  <main>
    <section id="view-tasks" class="view">
      <div class="toolbar">
        <input id="taskTitle" placeholder="Nueva tarea" />
        <input id="taskAssignee" placeholder="Asignado a agente" />
        <select id="taskPriority"><option>P0</option><option>P1</option><option>P2</option></select>
        <button id="addTask">Agregar</button>
      </div>
      <div id="kanban" class="kanban"></div>
    </section>

    <section id="view-office" class="view active">
      <div class="section-head">
        <h2>The Office</h2>
        <div class="legend"><span class="dot w"></span>Working <span class="dot m"></span>Moving <span class="dot i"></span>Idle</div>
      </div>
      <div class="office-layout">
        <div class="office-map" id="officeMap">
          <div class="desk-row" id="deskRow"></div>
          <div class="speech" id="speech">Selecciona un AI agent</div>
        </div>
        <aside class="side-panel">
          <h3 id="selName">AI Agent</h3>
          <p id="selMeta">Role: -</p>
          <label>Estado
            <select id="agentState"><option>Working</option><option>Moving</option><option>Idle</option></select>
          </label>
          <label>Tarea actual
            <textarea id="agentTask" rows="4" placeholder="QuÃ© estÃ¡ haciendo..."></textarea>
          </label>
          <button id="saveAgent">Guardar</button>
          <small>Regla: si estÃ¡ <b>Working</b>, va a su escritorio; si estÃ¡ <b>Moving/Idle</b>, sale del escritorio.</small>
        </aside>
      </div>
    </section>

    <section id="view-agents" class="view">
      <div class="toolbar">
        <input id="aName" placeholder="Nombre AI agent" />
        <input id="aRole" placeholder="Rol (Sourcing, Pricing, Ops...)" />
        <button id="addAgent">Agregar AI agent</button>
      </div>
      <div id="agentsTable" class="table"></div>
    </section>

    <section id="view-org" class="view">
      <div class="org-wrap">
        <div class="org-node ceo">Emi Â· CEO / Pricing final</div>
        <div class="org-row"><div class="org-node">AI Agent Layer</div></div>
        <div class="org-row" id="orgAgents"></div>
      </div>
    </section>
  </main>

  <dialog id="taskDialog">
    <form method="dialog" class="dialog-form">
      <h3 id="dTitle"></h3>
      <label>Detalle<textarea id="dDetail" rows="5"></textarea></label>
      <label>Asignado<input id="dAssignee" /></label>
      <label>Estado<select id="dStatus"><option value="backlog">Backlog</option><option value="doing">Doing</option><option value="blocked">Blocked</option><option value="done">Done</option></select></label>
      <menu><button value="cancel">Cerrar</button><button id="saveTask" value="default">Guardar</button></menu>
    </form>
  </dialog>

  <script src="./app.js?v=8"></script>
</body>
</html>